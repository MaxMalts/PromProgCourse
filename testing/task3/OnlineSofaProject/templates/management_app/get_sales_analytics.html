{% extends 'base.html' %}
{% load static %}
{% load crispy_forms_tags %}

{% block title %}
Аналитика по продажам
{% endblock title %}


{% block styles %}
<link rel="stylesheet" href="{% static 'css/get_analytics_page_styles.css' %}" />
{% endblock styles %}


{% block content %}
<div class="container-fluid text-center">
    <div class="row content">

        <div class="col-sm-2 sidenav">
            <input hidden type="text" id="json_data" value="{{ json_data }}" />
        </div>

        <div class="col-sm-8 text-left">

            <h1>Аналитика по продажам</h1>
            <div class="tab">
                <button class="tablinks" onclick="openTab(event, 'table')">В виде таблицы</button>
                <button class="tablinks" onclick="openTab(event, 'chart')">В виде графика</button>
            </div>
            <div id="table" class="tabcontent">
               <table class="table table-hover">
                    <thead>
                      <tr>
                        <th>Дата</th>
                        <th>Количество проданных товаров</th>
                      </tr>
                    </thead>
                    <tbody>
                    {% for date, count_sold_products_per_day in sold_products_for_period.items %}
                        <tr>
                            <td>{{ date }}</td>
                            <td>{{ count_sold_products_per_day }}</td>
                        </tr>
                    {% endfor %}
                    </tbody>
               </table>
            </div>
            <div id="chart" class="tabcontent">
                <figure class="highcharts-figure">
                    <div id="container"></div>
                </figure>
            </div>

        </div>

        <div class="col-sm-2 sidenav">
            <div class="well">
                <p>ADS</p>
              </div>
              <div class="well">
                <p>ADS</p>
              </div>
            </div>
        </div>
    </div>

</div>

{% endblock content %}


{% block scripts %}
<script type="text/javascript" src="{% static 'js/switch_tabs.js' %}"></script>
<script src="https://code.highcharts.com/highcharts.js"></script>
<script src="https://code.highcharts.com/modules/exporting.js"></script>
<script src="https://code.highcharts.com/modules/export-data.js"></script>
<script src="https://code.highcharts.com/modules/accessibility.js"></script>
<script type="text/javascript" src="{% static 'js/get_chart.js' %}"></script>
{% endblock scripts %}